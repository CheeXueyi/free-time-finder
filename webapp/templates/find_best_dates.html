{% extends "base.html" %}

{% block title %}Find best dates{% endblock %}

{% block navright %}
<li><a href="/">Home</a></li>
<li><a href="/functions" class="active">Functions</a></li>
<li><a href="/tutorial">Tutorial</a></li>
<li><a href="/about">About Us</a></li>
{% endblock %}

{% block content %}
<meta id="event_id" event_id="{{event_id}}">
<button>Sort by number of people free</button>
<button>Sort by date</button>
<table id="dates">
    
</table>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    $(document).ready(function(){
        let event_id = $("#event_id").attr("event_id")
        console.log(event_id)
        fetch("/json?id="+event_id)
            .then(response => response.json())
            .then(function(data) {
                if (data.status == 1){
                    console.log(data)
                    //do work with data here
                }
                else
                {
                    console.log("invalid id")
                }
            })
            .catch(err => console.log(err))
    })  
</script>
{% endblock %}